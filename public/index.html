<!DOCTYPE html>
<html ng-app="travelApp">
  <head>
    <meta charset="utf-8">
    <title>travelApp</title>
    <link rel="stylesheet" href="/css/vendor.css">
    <link rel="stylesheet" href="/css/style.css">
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCVEKU680VOtQBi2vvvVg2TNnL-TaZxiqc"
  type="text/javascript"></script>
    <script src="/js/vendor.js" charset="utf-8"></script>
    <script src="/js/app.js" charset="utf-8"></script>
  </head>
    <body ng-controller="MainController as main">

    <header>
      <div class="mainHeader">
        <div>
          <img class="icon" src="/assets/images/heart.svg" alt="Logo" />
        </div>
        <div>
          <img class="icon" src="/assets/images/newPost.svg" alt="New Post" />
          <img class="icon" src="/assets/images/search.svg" ng-click="main.searchBoxOpen = !main.searchBoxOpen" alt="Search" />

          <a ng-if="!main.isLoggedIn()" ui-sref="login">
            <div class="signIn">
              Sign in / Register
            </div>
          </a>
          <div ng-if="main.isLoggedIn()" class="profilePic">
            <img src="{{ main.currentUser.image }}"></img>
          </div>
          <nav>
            <ul>
              <li ng-click="main.logout()">Logout</li>
            </ul>
          </nav>
        </div>
      </div>
      <div ng-show="main.searchBoxOpen" class="searchContainer">
        <input type="text" ng-model="main.searchTerm" ng-change="main.search()" placeholder="Search...">
        <div class="searchResults">
          <div class="result" ng-repeat="user in main.allUsers">
            <div class="profilePic">
              <img src="{{ user.image }}"></img>
            </div>
            <p>
              {{ user.firstName }} {{ user.lastName }}
            </p>

          </div>
        </div>
      </div>
    </header>

    <main class="container" ui-view>
      {{ main.currentUser }}
    </main>

  </body>
</html>
